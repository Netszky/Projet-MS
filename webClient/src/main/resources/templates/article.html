<!DOCTYPE html>
<html xmlns="http://www.w3org/1999/xhml"
xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Home</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
</head>
<body>
	<ul class="nav justify-content-center">
	  <li class="nav-item">
	    <a class="nav-link active" aria-current="page" href="/home">Accueil</a>
	  </li>
	  <li class="nav-item">
	    <a class="nav-link" href="/article/new">Nouvel article</a>
	  </li>
	  <li class="nav-item">
	    <a class="nav-link" href="/category/new">Nouvelle cat√©gorie</a>
	  </li>
	  <li class="nav-item">
	    <a class="nav-link" href="/user/new">Nouvel utilisateur</a>
	  </li>
	</ul>
	<p>
		<a th:href="@{/deleteArticle/{id}(id=${article.id})}">Delete</a> - <a th:href="@{/updateArticle/{id}(id=${article.id})}">Update</a>
	</p>
	<div class="container">
  		<div class="row">
  			<h2 th:text="${article.title}"></h2>
  			<p>Ecrit par <span th:text="${article.user.name}"></span> le <span th:text="${article.date}"></span></p>
  			<p th:text="${article.content}"></p>
    	</div>
    </div>
    <div class="container">
	   	<div class="row">
	   		<h2>Commentaires</h2> <br>
	   		<div class="col-sm">
	   			<form method="post" th:action="@{/saveComment}" th:object="${newComment}">
	   			
		   			<select class="form-select" aria-label="User" th:field="*{user_id}">
					  <option th:each="user : ${users}"
					  	th:value="${user.id}"
					  	th:utext="${user.name}">
				  	</option>
					</select>
					
					<select class="form-select" aria-label="User" th:field="*{on_article_id}" style="visibility: hidden;">
					  	<option
					  		th:value="${article.id}"
				  		</option>
					</select>
	   			
		   			<label for="contentInput" class="form-label">Votre commentaire :</label>
					<input type="text" th:field="*{content}" id="contentInput" class="form-control"/>
				
					<input type="submit" value="Validate" />
				</form>
	   		</div>
	   	</div>
	   	<br>	
   		<div class="row">
		
			<div th:each="comment: ${comments}" class="col-sm">
	  			<h3> 
	  				<span th:text="${comment.user.name}"></span> - <span th:text="${comment.post_date}"></span>
	  			</h3>
	  			<p th:text="${comment.content}"></p>
			</div> 
		</div>
	</div>
</body>
</html>